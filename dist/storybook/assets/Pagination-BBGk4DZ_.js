import{I as y,d as B,a as U,c as L}from"./IconButton-T11_QcZ4.js";import{I as b}from"./Icon-CcU0ohUz.js";import{D as M,b as k,a as F}from"./Dropdown-CFZXuRhf.js";import{u as $}from"./useLegacyI18n-Lhj0cz5x.js";import{S as V}from"./SelectList-D2-4t1B8.js";import{S as z}from"./SelectListItem-BBxghzdK.js";import{d as G,a as o,b as i,j as g,F as P,z as N,f as T,_ as w,y as _,h as W,A as u,p as d,o as n,k as O,n as S}from"./vue.esm-bundler-ByLATHYC.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=30,q=7,C="ellipsis",m=1,E=G({name:"Pagination",components:{IconButton:y,Dropdown:M,SelectListItem:z,SelectList:V},props:{currentPage:{type:Number,default:m,validator(e){return e>0}},forceCompact:{type:Boolean,default:!1},isCentered:{type:Boolean,default:!1},itemsPerPage:{type:Number,default:Z,validator(e){return e>0}},itemsTotalAmount:{type:Number,required:!0}},emits:["change-page"],setup(){const{t:e}=$();return{t:e}},data(){return{DROPDOWN_PLACEMENTS:Object.freeze(F),DROPDOWN_RADIUSES:Object.freeze(k),ICON_BUTTON_SIZES:Object.freeze(L),ICON_BUTTON_COLORS:Object.freeze(U),ICON_BUTTON_STATES:Object.freeze(B),ICONS:Object.freeze(b),FIRST_PAGE_NUMBER:m}},computed:{lastPage(){return Math.ceil(this.itemsTotalAmount/this.itemsPerPage)||m},navigationItems(){let e;this.lastPage<=q?e=7:e=this.currentPage>4&&this.currentPage<this.lastPage-3?2:4;const t={start:Math.round(this.currentPage-e/2),end:Math.round(this.currentPage+e/2)};(t.start-1===1||t.end+1===this.lastPage)&&(t.start+=1,t.end+=1);let a=this.currentPage>e?this.getRange(Math.min(t.start,this.lastPage-e),Math.min(t.end,this.lastPage)):this.getRange(1,Math.min(this.lastPage,e+1));const r=(f,I)=>a.length+1!==this.lastPage?I:[f];return a[0]!==1&&(a=r(1,[1,C]).concat(a)),a[a.length-1]<this.lastPage&&(a=a.concat(r(this.lastPage,[C,this.lastPage]))),a},navigationItemsForDropdown(){return this.getRange(m,this.lastPage).map(e=>{const t=(e-1)*this.itemsPerPage,a=e<this.lastPage?t+this.itemsPerPage:this.itemsTotalAmount;return{label:`${e} (${t+1} - ${a})`,value:e}})}},methods:{ellipsisAsSecond(e){return e===1},getRange(e,t){return Array(t-e+1).fill(null).map((a,r)=>r+e)},changePage(e){this.currentPage!==e&&this.$emit("change-page",e)},isPage(e){return typeof e=="number"},onInputValueConfirmed(e){const t=+e.target.value;this.changePage(t)},onDropdownClick(e,t){this.changePage(e),t()}}}),K={class:"ds-pagination__itemsWrapper"},H={key:0,class:"ds-pagination__items -ds-default"},X=["onClick"],J={class:"ds-pagination__itemWrapper -ds-touchable"},Q={key:1,class:"ds-pagination__items -ds-compact"},Y={class:"ds-pagination__compactItem"},x=["value","min","max"],ee={class:"ds-pagination__text"},te={class:"ds-pagination__accessorySlot"};function ae(e,t,a,r,f,I){const A=d("select-list-item"),D=d("select-list"),v=d("dropdown"),h=d("icon-button");return n(),o("div",{class:u(["ds-pagination",{"-ds-forceCompact":e.forceCompact,"-ds-centered":e.isCentered&&!e.$slots.accessory}])},[i("div",K,[e.navigationItems.length>1&&!e.forceCompact?(n(),o("div",H,[(n(!0),o(P,null,N(e.navigationItems,(s,c)=>(n(),o(P,null,[e.isPage(s)?(n(),o("div",{key:c,class:u(["ds-pagination__itemWrapper",{"-ds-touchable":e.currentPage!==s}]),role:"link",onClick:l=>e.changePage(s)},[i("span",{class:u(["ds-pagination__item",{"-ds-selected":e.currentPage===s}])},_(s),3)],10,X)):(n(),o("div",{key:`ellipsis${c}`},[T(v,{radius:e.DROPDOWN_RADIUSES.BOTTOM,"max-height":"250px",placement:e.ellipsisAsSecond(c)?e.DROPDOWN_PLACEMENTS.BOTTOM_START:e.DROPDOWN_PLACEMENTS.BOTTOM_END},{reference:O(({isOpened:l})=>[i("div",J,[i("span",{class:u(["ds-pagination__item",{"-ds-selected":l}])},"â€¦",2)])]),default:O(({close:l})=>[e.navigationItemsForDropdown.length?(n(),S(D,{key:0},{default:O(()=>[(n(!0),o(P,null,N(e.navigationItemsForDropdown,(p,R)=>(n(),S(A,{key:R,label:p.label,"is-selected":e.currentPage===p.value,onClick:se=>e.onDropdownClick(p.value,l)},null,8,["label","is-selected","onClick"]))),128))]),_:2},1024)):g("",!0)]),_:2},1032,["radius","placement"])]))],64))),256))])):g("",!0),e.navigationItems.length>1?(n(),o("div",Q,[T(h,{size:e.ICON_BUTTON_SIZES.MEDIUM,color:e.ICON_BUTTON_COLORS.NEUTRAL,icon:e.ICONS.FA_ANGLE_LEFT,state:e.currentPage<=e.FIRST_PAGE_NUMBER?e.ICON_BUTTON_STATES.DISABLED:e.ICON_BUTTON_STATES.DEFAULT,onClick:t[0]||(t[0]=s=>e.changePage(e.currentPage-1))},null,8,["size","color","icon","state"]),i("div",Y,[i("input",{class:"ds-pagination__input",type:"number",value:e.currentPage,min:e.FIRST_PAGE_NUMBER,step:1,max:e.lastPage,onChange:t[1]||(t[1]=(...s)=>e.onInputValueConfirmed&&e.onInputValueConfirmed(...s)),onKeyup:t[2]||(t[2]=w((...s)=>e.onInputValueConfirmed&&e.onInputValueConfirmed(...s),["enter"]))},null,40,x),i("span",ee,_(e.t("ds.pagination.from"))+" "+_(e.lastPage),1)]),T(h,{size:e.ICON_BUTTON_SIZES.MEDIUM,color:e.ICON_BUTTON_COLORS.NEUTRAL,icon:e.ICONS.FA_ANGLE_RIGHT,state:e.currentPage>=e.lastPage?e.ICON_BUTTON_STATES.DISABLED:e.ICON_BUTTON_STATES.DEFAULT,onClick:t[3]||(t[3]=s=>e.changePage(e.currentPage+1))},null,8,["size","color","icon","state"])])):g("",!0)]),i("div",te,[W(e.$slots,"accessory",{},void 0,!0)])],2)}const ce=j(E,[["render",ae],["__scopeId","data-v-74a6a0a3"]]);E.__docgenInfo={displayName:"Pagination",exportName:"default",description:"",tags:{},props:[{name:"currentPage",type:{name:"number"},defaultValue:{func:!1,value:"FIRST_PAGE_NUMBER"}},{name:"forceCompact",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isCentered",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemsPerPage",type:{name:"number"},defaultValue:{func:!1,value:"PAGINATION_DEFAULT_ITEMS_PER_PAGE"}},{name:"itemsTotalAmount",type:{name:"number"},required:!0}],events:[{name:"change-page",type:{names:["undefined"]}}],slots:[{name:"accessory"}],sourceFiles:["/Users/kvas/code/bethink/design-system/lib/js/components/Pagination/Pagination.vue"]};export{ce as P};
