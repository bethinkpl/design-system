import{d as R,t as f,v as s,r as y,o as p,c as D,k,x as h,j as T,g as O,a as S}from"./vue.esm-bundler-DmkhfO_9.js";import{I as a}from"./Icon-D0llnARZ.js";import{D as C,e as m,a as r,b as _,i as v,d as b}from"./DatePicker-DCnXj9B0.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I=R({name:"DateRangePicker",components:{DateBox:C},props:{isInteractive:{type:Boolean,default:!1},placeholder:{type:String,default:"Wybierz datę"},startDate:{type:Date,default:null},endDate:{type:Date,default:null},startIcon:{type:[Object,null],default:a.FA_CALENDAR_DAY,validator(e){return e===null||(Object==null?void 0:Object.values(a).includes(f(e)))}},endIcon:{type:[Object,null],default:a.FA_CALENDAR_DAY,validator(e){return e===null||(Object==null?void 0:Object.values(a).includes(f(e)))}},areIconsHiddenOnMobile:{type:Boolean,default:!1},calendarPosition:{type:String,default:m.BOTTOM_LEFT},errorMessage:{type:String,default:""},state:{type:String||null,default:r.DEFAULT},color:{type:String,default:_.NEUTRAL_WEAK},disableDates:{type:Array,default:()=>[]},minDate:{type:Date,default:null},maxDate:{type:Date,default:null},updatePositionBasedOnScrollableSelector:{type:String,default:""}},emits:{"update:date":e=>!0},setup(e,{emit:i}){const t=s(null),o=s(),d=s(),u=l=>{l.length===2&&i("update:date",{startDate:l[0],endDate:l[1]})},n=()=>{c(),t.value=null},{isOpen:E,toggle:g,createDatePicker:A,destroyDatePicker:c,updateDatePicker:P}=v({props:e,onChange:u,onClose:n,defaultDates:[e.startDate,e.endDate],mode:"range"});return{flatpickrInstance:t,dateRangePickerRef:o,flatpickrInputRef:d,isOpen:E,toggleDatePicker:g,createDatePicker:A,destroyDatePicker:c,updateDatePicker:P,DATE_PICKER_CALENDAR_POSITIONS:Object.freeze(m),DATE_PICKER_COLORS:Object.freeze(_),DATE_PICKER_STATES:Object.freeze(r),DATE_PICKER_TRIGGER_TYPES:Object.freeze(b)}},watch:{minDate:{immediate:!0,handler(e){this.startDate&&e&&new Date(this.startDate).setHours(0,0,0,0)<new Date(e).setHours(0,0,0,0)&&this.$emit("update:date",{startDate:null,endDate:null})}},maxDate:{immediate:!0,handler(e){this.endDate&&e&&new Date(this.endDate).setHours(0,0,0,0)>new Date(e).setHours(0,0,0,0)&&this.$emit("update:date",{startDate:null,endDate:null})}}},methods:{async bindFlatpickrInstance(){this.flatpickrInstance=await this.createDatePicker(this.flatpickrInputRef,this.dateRangePickerRef,this.updatePositionBasedOnScrollableSelector),this.updateDatePicker()},async toggle(){this.isInteractive&&this.state===r.DEFAULT&&(this.flatpickrInstance||await this.bindFlatpickrInstance(),this.toggleDatePicker())}}}),V={ref:"dateRangePickerRef",class:"ds-dateRangePicker"},L={key:0,class:"ds-dateRangePicker__errorMessage"},F={ref:"flatpickrInputRef",class:"ds-dateRangePicker__hiddenInput"};function K(e,i,t,o,d,u){const n=y("date-box");return p(),D("div",V,[k(n,{"is-interactive":e.isInteractive,placeholder:e.placeholder,"start-date":e.startDate,"end-date":e.endDate,"start-icon":e.startIcon,"end-icon":e.endIcon,"are-icons-hidden-on-mobile":e.areIconsHiddenOnMobile,state:e.state,color:e.color,"is-open":e.isOpen,onClick:h(e.toggle,["stop","prevent"])},null,8,["is-interactive","placeholder","start-date","end-date","start-icon","end-icon","are-icons-hidden-on-mobile","state","color","is-open","onClick"]),e.errorMessage?(p(),D("span",L,T(e.errorMessage),1)):O("",!0),S("input",F,null,512)],512)}const H=N(I,[["render",K],["__scopeId","data-v-3c0d5e1c"]]);I.__docgenInfo={displayName:"DateRangePicker",exportName:"default",description:"",tags:{},props:[{name:"isInteractive",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"'Wybierz datę'"}},{name:"startDate",type:{name:"date"},defaultValue:{func:!1,value:"null"}},{name:"endDate",type:{name:"date"},defaultValue:{func:!1,value:"null"}},{name:"startIcon",type:{name:"IconItem | null"},defaultValue:{func:!1,value:"ICONS.FA_CALENDAR_DAY"}},{name:"endIcon",type:{name:"IconItem | null"},defaultValue:{func:!1,value:"ICONS.FA_CALENDAR_DAY"}},{name:"areIconsHiddenOnMobile",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"calendarPosition",type:{name:"DatePickerCalendarPositions"},defaultValue:{func:!1,value:"DATE_PICKER_CALENDAR_POSITIONS.BOTTOM_LEFT"}},{name:"errorMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"state",type:{name:"(String as PropType<DatePickerStates>) || null"},defaultValue:{func:!1,value:"DATE_PICKER_STATES.DEFAULT"}},{name:"color",type:{name:"DatePickerColors"},defaultValue:{func:!1,value:"DATE_PICKER_COLORS.NEUTRAL_WEAK"}},{name:"disableDates",type:{name:"Array<Date>"},defaultValue:{func:!0,value:"() => []"}},{name:"minDate",type:{name:"date"},defaultValue:{func:!1,value:"null"}},{name:"maxDate",type:{name:"date"},defaultValue:{func:!1,value:"null"}},{name:"updatePositionBasedOnScrollableSelector",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"update:date",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/design-system/design-system/lib/js/components/DatePickers/DateRangePicker/DateRangePicker.vue"]};export{H as D};
