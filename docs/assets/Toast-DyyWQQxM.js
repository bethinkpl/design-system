import{D as R,b as o,c as I,a as v}from"./Button-BnWnuQz_.js";import{C as B}from"./Card-BzXb8FVb.js";import{d as C,t as d,c as D,k as U,h as A,e as r,s as _,n as z,r as f,o as i,a as m,b as S,l as p,j as T,g as b,f as L}from"./vue.esm-bundler-DmkhfO_9.js";import{I as y}from"./Icon-KlrZhBvI.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={SMALL:"small",MEDIUM:"medium"},l={NEUTRAL_HEAVY:"neutralHeavy",NEUTRAL_STRONG:"neutralStrong",SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},h={LEFT:"left",CENTER:"center",RIGHT:"right"};function k(e){const t=window.getComputedStyle(e).borderLeftWidth,u=window.getComputedStyle(e).borderRightWidth,n=e.getBoundingClientRect(),a=n.left+parseInt(t,10),c=n.right-parseInt(u,10)-parseInt(t,10),s=n.width;return{left:{left:`${a}px`},right:{left:`${c}px`,transform:"translateX(-100%)"},center:{left:`${a+s/2}px`,transform:"translateX(-50%)"}}}const g=C({name:"Toast",components:{DsButton:R,DsCard:B},props:{size:{type:String,default:O.MEDIUM},position:{type:String,default:h.CENTER},boundariesSelector:{type:[String,HTMLElement],default:null},color:{type:String,default:l.INFO},footerPrimaryButtonText:{type:String,default:""},footerPrimaryButtonIcon:{type:Object,default:null,validator(e){return e==null||Object.values(y).includes(d(e))}},footerSecondaryButtonText:{type:String,default:""},footerSecondaryButtonIcon:{type:Object,default:null,validator(e){return e==null||Object.values(y).includes(d(e))}},isDisappearing:{type:Boolean,default:!0},disappearingTimeout:{type:String,default:"0",validator(e){return(e==="0"||!isNaN(parseInt(e,10)))&&parseInt(e,10)>=0}}},emits:{close:()=>!0,"primary-button-click":()=>!0,"secondary-button-click":()=>!0},data(){return{boundariesSelectorElement:null,boundariesSelectorElementResizeObserver:null,styles:{},BUTTON_COLORS:Object.freeze(o),BUTTON_RADIUSES:Object.freeze(I),BUTTON_TYPES:Object.freeze(v),TOAST_SIZES:Object.freeze(O),TOAST_POSITIONS:Object.freeze(h)}},computed:{buttonPrimaryColor(){return this.color===l.DANGER?o.NEUTRAL:o.PRIMARY},buttonSecondaryColor(){return this.color===l.DANGER?o.DANGER:o.NEUTRAL},toastPosition(){return`-ds-position-${this.position.toLowerCase()}`},toastSize(){return`-ds-size-${this.size.toLowerCase()}`}},mounted(){var e;this.setBoundariesSelectorElement(),this.calculateStyles(),(e=this.boundariesSelectorElementResizeObserver)==null||e.disconnect(),this.boundariesSelectorElementResizeObserver=new ResizeObserver(()=>{this.calculateStyles()}),this.boundariesSelectorElement?this.boundariesSelectorElementResizeObserver.observe(this.boundariesSelectorElement):this.boundariesSelectorElementResizeObserver.observe(document.querySelector("body")),this.isDisappearing&&this.disappearingTimeout!=="0"&&setTimeout(()=>this.$emit("close"),parseInt(this.disappearingTimeout,10)*1e3+100)},beforeUnmount(){this.boundariesSelectorElementResizeObserver.disconnect(),this.boundariesSelectorElementResizeObserver=null},updated(){const{right:e,left:t}=this.$el.getClientRects()[0];(parseInt(t,10)<0||e>document.documentElement.clientWidth)&&(this.styles={left:"50%",transform:"translateX(-50%)"})},methods:{calculateStyles(){this.boundariesSelectorElement?this.styles=k(this.boundariesSelectorElement)[this.position]:this.styles={}},setBoundariesSelectorElement(){typeof this.boundariesSelector=="string"?this.boundariesSelectorElement=document.querySelector(this.boundariesSelector)||null:this.boundariesSelector instanceof HTMLElement&&(this.boundariesSelectorElement=this.boundariesSelector)}}}),$={class:"ds-toast__content"},V={class:"ds-toast__footerButtons"};function j(e,t,u,n,a,c){const s=f("ds-button"),E=f("ds-card");return i(),D("div",{style:_(e.styles),class:z(["ds-toast",e.toastSize,e.toastPosition])},[U(E,{"loading-bar-color":e.color,"has-loading-bar":"","loading-bar-time":e.disappearingTimeout},A({content:r(()=>[m("div",$,[L(e.$slots,"content",{},void 0,!0)])]),_:2},[e.footerPrimaryButtonText.length>0||e.footerSecondaryButtonText.length>0?{name:"footer",fn:r(()=>[m("div",V,[e.footerSecondaryButtonText.length?(i(),S(s,{key:0,color:e.buttonSecondaryColor,"icon-right":e.footerSecondaryButtonIcon,type:e.BUTTON_TYPES.OUTLINED,radius:e.BUTTON_RADIUSES.ROUNDED,onClick:t[0]||(t[0]=N=>e.$emit("secondary-button-click"))},{default:r(()=>[p(T(e.footerSecondaryButtonText),1)]),_:1},8,["color","icon-right","type","radius"])):b("",!0),e.footerPrimaryButtonText.length?(i(),S(s,{key:1,color:e.buttonPrimaryColor,"icon-right":e.footerPrimaryButtonIcon,radius:e.BUTTON_RADIUSES.ROUNDED,onClick:t[1]||(t[1]=N=>e.$emit("primary-button-click"))},{default:r(()=>[p(T(e.footerPrimaryButtonText),1)]),_:1},8,["color","icon-right","radius"])):b("",!0)])]),key:"0"}:void 0]),1032,["loading-bar-color","loading-bar-time"])],6)}const F=P(g,[["render",j],["__scopeId","data-v-1898598e"]]);g.__docgenInfo={displayName:"Toast",exportName:"default",description:"",tags:{},props:[{name:"size",type:{name:"ToastSizes"},defaultValue:{func:!1,value:"TOAST_SIZES.MEDIUM"}},{name:"position",type:{name:"ToastPositions"},defaultValue:{func:!1,value:"TOAST_POSITIONS.CENTER"}},{name:"boundariesSelector",type:{name:"string|HTMLElement"},defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ToastColors"},defaultValue:{func:!1,value:"TOAST_COLORS.INFO"}},{name:"footerPrimaryButtonText",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"footerPrimaryButtonIcon",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"footerSecondaryButtonText",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"footerSecondaryButtonIcon",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"isDisappearing",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"disappearingTimeout",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}}],events:[{name:"secondary-button-click"},{name:"primary-button-click"},{name:"close"}],slots:[{name:"content"}],sourceFiles:["/home/runner/work/design-system/design-system/lib/js/components/Toast/Toast.vue"]};export{F as D,O as T,h as a,l as b};
