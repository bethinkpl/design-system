import{I as y,d as B,a as U,c as L}from"./IconButton-Cn83Zk5-.js";import{I as M}from"./Icon-DUeXRUm6.js";import{D as b,b as k,a as F}from"./Dropdown-Bdrd2ZIh.js";import{S as $}from"./SelectList-YMQ8rEMc.js";import{S as V}from"./SelectListItem-BqKhIPSO.js";import{d as z,c as o,a as i,g as p,F as P,C as I,e as T,K as G,y as N,f as w,v as u,l as m,o as n,h as _,k as S}from"./vue.esm-bundler-DcRN7CPI.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=30,Z=7,C="ellipsis",d=1,E=z({name:"Pagination",components:{IconButton:y,Dropdown:b,SelectListItem:V,SelectList:$},props:{currentPage:{type:Number,default:d,validator(e){return e>0}},forceCompact:{type:Boolean,default:!1},isCentered:{type:Boolean,default:!1},itemsPerPage:{type:Number,default:j,validator(e){return e>0}},itemsTotalAmount:{type:Number,required:!0}},emits:["change-page"],data(){return{DROPDOWN_PLACEMENTS:Object.freeze(F),DROPDOWN_RADIUSES:Object.freeze(k),ICON_BUTTON_SIZES:Object.freeze(L),ICON_BUTTON_COLORS:Object.freeze(U),ICON_BUTTON_STATES:Object.freeze(B),ICONS:Object.freeze(M),FIRST_PAGE_NUMBER:d}},computed:{lastPage(){return Math.ceil(this.itemsTotalAmount/this.itemsPerPage)||d},navigationItems(){let e;this.lastPage<=Z?e=7:e=this.currentPage>4&&this.currentPage<this.lastPage-3?2:4;const t={start:Math.round(this.currentPage-e/2),end:Math.round(this.currentPage+e/2)};(t.start-1===1||t.end+1===this.lastPage)&&(t.start+=1,t.end+=1);let a=this.currentPage>e?this.getRange(Math.min(t.start,this.lastPage-e),Math.min(t.end,this.lastPage)):this.getRange(1,Math.min(this.lastPage,e+1));const r=(O,f)=>a.length+1!==this.lastPage?f:[O];return a[0]!==1&&(a=r(1,[1,C]).concat(a)),a[a.length-1]<this.lastPage&&(a=a.concat(r(this.lastPage,[C,this.lastPage]))),a},navigationItemsForDropdown(){return this.getRange(d,this.lastPage).map(e=>{const t=(e-1)*this.itemsPerPage,a=e<this.lastPage?t+this.itemsPerPage:this.itemsTotalAmount;return{label:`${e} (${t+1} - ${a})`,value:e}})}},methods:{ellipsisAsSecond(e){return e===1},getRange(e,t){return Array(t-e+1).fill(null).map((a,r)=>r+e)},changePage(e){this.currentPage!==e&&this.$emit("change-page",e)},isPage(e){return typeof e=="number"},onInputValueConfirmed(e){const t=+e.target.value;this.changePage(t)},onDropdownClick(e,t){this.changePage(e),t()}}}),K={class:"ds-pagination__itemsWrapper"},q={key:0,class:"ds-pagination__items -ds-default"},H=["onClick"],X={class:"ds-pagination__itemWrapper -ds-touchable"},J={key:1,class:"ds-pagination__items -ds-compact"},Q={class:"ds-pagination__compactItem"},Y=["value","min","max"],x={class:"ds-pagination__text"},ee={class:"ds-pagination__accessorySlot"};function te(e,t,a,r,O,f){const A=m("select-list-item"),D=m("select-list"),v=m("dropdown"),h=m("icon-button");return n(),o("div",{class:u(["ds-pagination",{"-ds-forceCompact":e.forceCompact,"-ds-centered":e.isCentered&&!e.$slots.accessory}])},[i("div",K,[e.navigationItems.length>1&&!e.forceCompact?(n(),o("div",q,[(n(!0),o(P,null,I(e.navigationItems,(s,c)=>(n(),o(P,null,[e.isPage(s)?(n(),o("div",{key:c,class:u(["ds-pagination__itemWrapper",{"-ds-touchable":e.currentPage!==s}]),role:"link",onClick:l=>e.changePage(s)},[i("span",{class:u(["ds-pagination__item",{"-ds-selected":e.currentPage===s}])},N(s),3)],10,H)):(n(),o("div",{key:`ellipsis${c}`},[T(v,{radius:e.DROPDOWN_RADIUSES.BOTTOM,"max-height":"250px",placement:e.ellipsisAsSecond(c)?e.DROPDOWN_PLACEMENTS.BOTTOM_START:e.DROPDOWN_PLACEMENTS.BOTTOM_END},{reference:_(({isOpened:l})=>[i("div",X,[i("span",{class:u(["ds-pagination__item",{"-ds-selected":l}])},"â€¦",2)])]),default:_(({close:l})=>[e.navigationItemsForDropdown.length?(n(),S(D,{key:0},{default:_(()=>[(n(!0),o(P,null,I(e.navigationItemsForDropdown,(g,R)=>(n(),S(A,{key:R,label:g.label,"is-selected":e.currentPage===g.value,onClick:ae=>e.onDropdownClick(g.value,l)},null,8,["label","is-selected","onClick"]))),128))]),_:2},1024)):p("",!0)]),_:2},1032,["radius","placement"])]))],64))),256))])):p("",!0),e.navigationItems.length>1?(n(),o("div",J,[T(h,{size:e.ICON_BUTTON_SIZES.MEDIUM,color:e.ICON_BUTTON_COLORS.NEUTRAL,icon:e.ICONS.FA_ANGLE_LEFT,state:e.currentPage<=e.FIRST_PAGE_NUMBER?e.ICON_BUTTON_STATES.DISABLED:e.ICON_BUTTON_STATES.DEFAULT,onClick:t[0]||(t[0]=s=>e.changePage(e.currentPage-1))},null,8,["size","color","icon","state"]),i("div",Q,[i("input",{class:"ds-pagination__input",type:"number",value:e.currentPage,min:e.FIRST_PAGE_NUMBER,step:1,max:e.lastPage,onChange:t[1]||(t[1]=(...s)=>e.onInputValueConfirmed&&e.onInputValueConfirmed(...s)),onKeyup:t[2]||(t[2]=G((...s)=>e.onInputValueConfirmed&&e.onInputValueConfirmed(...s),["enter"]))},null,40,Y),i("span",x,"z "+N(e.lastPage),1)]),T(h,{size:e.ICON_BUTTON_SIZES.MEDIUM,color:e.ICON_BUTTON_COLORS.NEUTRAL,icon:e.ICONS.FA_ANGLE_RIGHT,state:e.currentPage>=e.lastPage?e.ICON_BUTTON_STATES.DISABLED:e.ICON_BUTTON_STATES.DEFAULT,onClick:t[3]||(t[3]=s=>e.changePage(e.currentPage+1))},null,8,["size","color","icon","state"])])):p("",!0)]),i("div",ee,[w(e.$slots,"accessory",{},void 0,!0)])],2)}const me=W(E,[["render",te],["__scopeId","data-v-b9c67c30"]]);E.__docgenInfo={displayName:"Pagination",exportName:"default",description:"",tags:{},props:[{name:"currentPage",type:{name:"number"},defaultValue:{func:!1,value:"FIRST_PAGE_NUMBER"}},{name:"forceCompact",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isCentered",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemsPerPage",type:{name:"number"},defaultValue:{func:!1,value:"PAGINATION_DEFAULT_ITEMS_PER_PAGE"}},{name:"itemsTotalAmount",type:{name:"number"},required:!0}],events:[{name:"change-page",type:{names:["undefined"]}}],slots:[{name:"accessory"}],sourceFiles:["/home/runner/work/design-system/design-system/lib/js/components/Pagination/Pagination.vue"]};export{me as P};
