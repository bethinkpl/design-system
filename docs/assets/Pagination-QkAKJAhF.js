import{I as y,d as B,a as U,c as L}from"./IconButton-B4DWTg6I.js";import{I as M}from"./Icon-CKWWk5j6.js";import{D as b,b as k,a as F}from"./Dropdown-DROiglkN.js";import{u as $}from"./useLegacyI18n-BcTBReTN.js";import{S as G}from"./SelectList-D6U7eKfK.js";import{S as V}from"./SelectListItem-BO5dFhAH.js";import{d as w,a as o,b as i,j as g,F as P,G as N,f as T,a0 as z,E as _,h as W,H as u,p as m,o as n,k as O,n as S}from"./vue.esm-bundler-BEu-HfQJ.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=30,q=7,C="ellipsis",d=1,E=w({name:"Pagination",components:{IconButton:y,Dropdown:b,SelectListItem:V,SelectList:G},props:{currentPage:{type:Number,default:d,validator(e){return e>0}},forceCompact:{type:Boolean,default:!1},isCentered:{type:Boolean,default:!1},itemsPerPage:{type:Number,default:Z,validator(e){return e>0}},itemsTotalAmount:{type:Number,required:!0}},emits:["change-page"],setup(){const{t:e}=$();return{t:e}},data(){return{DROPDOWN_PLACEMENTS:Object.freeze(F),DROPDOWN_RADIUSES:Object.freeze(k),ICON_BUTTON_SIZES:Object.freeze(L),ICON_BUTTON_COLORS:Object.freeze(U),ICON_BUTTON_STATES:Object.freeze(B),ICONS:Object.freeze(M),FIRST_PAGE_NUMBER:d}},computed:{lastPage(){return Math.ceil(this.itemsTotalAmount/this.itemsPerPage)||d},navigationItems(){let e;this.lastPage<=q?e=7:e=this.currentPage>4&&this.currentPage<this.lastPage-3?2:4;const t={start:Math.round(this.currentPage-e/2),end:Math.round(this.currentPage+e/2)};(t.start-1===1||t.end+1===this.lastPage)&&(t.start+=1,t.end+=1);let a=this.currentPage>e?this.getRange(Math.min(t.start,this.lastPage-e),Math.min(t.end,this.lastPage)):this.getRange(1,Math.min(this.lastPage,e+1));const r=(f,I)=>a.length+1!==this.lastPage?I:[f];return a[0]!==1&&(a=r(1,[1,C]).concat(a)),a[a.length-1]<this.lastPage&&(a=a.concat(r(this.lastPage,[C,this.lastPage]))),a},navigationItemsForDropdown(){return this.getRange(d,this.lastPage).map(e=>{const t=(e-1)*this.itemsPerPage,a=e<this.lastPage?t+this.itemsPerPage:this.itemsTotalAmount;return{label:`${e} (${t+1} - ${a})`,value:e}})}},methods:{ellipsisAsSecond(e){return e===1},getRange(e,t){return Array(t-e+1).fill(null).map((a,r)=>r+e)},changePage(e){this.currentPage!==e&&this.$emit("change-page",e)},isPage(e){return typeof e=="number"},onInputValueConfirmed(e){const t=+e.target.value;this.changePage(t)},onDropdownClick(e,t){this.changePage(e),t()}}}),H={class:"ds-pagination__itemsWrapper"},K={key:0,class:"ds-pagination__items -ds-default"},X=["onClick"],J={class:"ds-pagination__itemWrapper -ds-touchable"},Q={key:1,class:"ds-pagination__items -ds-compact"},Y={class:"ds-pagination__compactItem"},x=["value","min","max"],ee={class:"ds-pagination__text"},te={class:"ds-pagination__accessorySlot"};function ae(e,t,a,r,f,I){const A=m("select-list-item"),D=m("select-list"),v=m("dropdown"),h=m("icon-button");return n(),o("div",{class:u(["ds-pagination",{"-ds-forceCompact":e.forceCompact,"-ds-centered":e.isCentered&&!e.$slots.accessory}])},[i("div",H,[e.navigationItems.length>1&&!e.forceCompact?(n(),o("div",K,[(n(!0),o(P,null,N(e.navigationItems,(s,p)=>(n(),o(P,null,[e.isPage(s)?(n(),o("div",{key:p,class:u(["ds-pagination__itemWrapper",{"-ds-touchable":e.currentPage!==s}]),role:"link",onClick:l=>e.changePage(s)},[i("span",{class:u(["ds-pagination__item",{"-ds-selected":e.currentPage===s}])},_(s),3)],10,X)):(n(),o("div",{key:`ellipsis${p}`},[T(v,{radius:e.DROPDOWN_RADIUSES.BOTTOM,"max-height":"250px",placement:e.ellipsisAsSecond(p)?e.DROPDOWN_PLACEMENTS.BOTTOM_START:e.DROPDOWN_PLACEMENTS.BOTTOM_END},{reference:O(({isOpened:l})=>[i("div",J,[i("span",{class:u(["ds-pagination__item",{"-ds-selected":l}])},"â€¦",2)])]),default:O(({close:l})=>[e.navigationItemsForDropdown.length?(n(),S(D,{key:0},{default:O(()=>[(n(!0),o(P,null,N(e.navigationItemsForDropdown,(c,R)=>(n(),S(A,{key:R,label:c.label,"is-selected":e.currentPage===c.value,onClick:se=>e.onDropdownClick(c.value,l)},null,8,["label","is-selected","onClick"]))),128))]),_:2},1024)):g("",!0)]),_:2},1032,["radius","placement"])]))],64))),256))])):g("",!0),e.navigationItems.length>1?(n(),o("div",Q,[T(h,{size:e.ICON_BUTTON_SIZES.MEDIUM,color:e.ICON_BUTTON_COLORS.NEUTRAL,icon:e.ICONS.FA_ANGLE_LEFT,state:e.currentPage<=e.FIRST_PAGE_NUMBER?e.ICON_BUTTON_STATES.DISABLED:e.ICON_BUTTON_STATES.DEFAULT,onClick:t[0]||(t[0]=s=>e.changePage(e.currentPage-1))},null,8,["size","color","icon","state"]),i("div",Y,[i("input",{class:"ds-pagination__input",type:"number",value:e.currentPage,min:e.FIRST_PAGE_NUMBER,step:1,max:e.lastPage,onChange:t[1]||(t[1]=(...s)=>e.onInputValueConfirmed&&e.onInputValueConfirmed(...s)),onKeyup:t[2]||(t[2]=z((...s)=>e.onInputValueConfirmed&&e.onInputValueConfirmed(...s),["enter"]))},null,40,x),i("span",ee,_(e.t("ds.pagination.from"))+" "+_(e.lastPage),1)]),T(h,{size:e.ICON_BUTTON_SIZES.MEDIUM,color:e.ICON_BUTTON_COLORS.NEUTRAL,icon:e.ICONS.FA_ANGLE_RIGHT,state:e.currentPage>=e.lastPage?e.ICON_BUTTON_STATES.DISABLED:e.ICON_BUTTON_STATES.DEFAULT,onClick:t[3]||(t[3]=s=>e.changePage(e.currentPage+1))},null,8,["size","color","icon","state"])])):g("",!0)]),i("div",te,[W(e.$slots,"accessory",{},void 0,!0)])],2)}const pe=j(E,[["render",ae],["__scopeId","data-v-74a6a0a3"]]);E.__docgenInfo={displayName:"Pagination",exportName:"default",description:"",tags:{},props:[{name:"currentPage",type:{name:"number"},defaultValue:{func:!1,value:"FIRST_PAGE_NUMBER"}},{name:"forceCompact",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isCentered",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemsPerPage",type:{name:"number"},defaultValue:{func:!1,value:"PAGINATION_DEFAULT_ITEMS_PER_PAGE"}},{name:"itemsTotalAmount",type:{name:"number"},required:!0}],events:[{name:"change-page",type:{names:["undefined"]}}],slots:[{name:"accessory"}],sourceFiles:["/home/runner/work/design-system/design-system/lib/js/components/Pagination/Pagination.vue"]};export{pe as P};
