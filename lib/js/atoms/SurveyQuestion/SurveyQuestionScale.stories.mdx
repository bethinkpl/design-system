import { Meta, Story, Props } from '@storybook/addon-docs';
import SurveyQuestionScale from './SurveyQuestionScale';
import { SURVEY_TOGGLE_MEANINGS } from '../SurveyToggle';
import { SURVEY_QUESTION_STATES } from './SurveyQuestion.consts';

<Meta title='atoms/SurveyQuestionScale' component={SurveyQuestionScale} />

# SurveyQuestionScale

<Story name='interactive'
		args={{
			title: 'Main question write here if it\'s long it will collapse.',
			elaborationLabel: 'Jeśli chcesz, uzasadnij lub rozwiń swoją ocenę',
			elaboration: '',
			explanation: '<h3 class="-headlineL -textRegular" style="text-align: center; margin-bottom: 16px;">Jak ocenić, czy slajdy i diagramy były zrozumiałe?</h3>\n<div>Wyczerpujące materiały dają poczucie pełnego zrozumieina, przy jednoczesnym usystematyzowaniu informacji. Wpływa na to nie tylko ich jakość, ale też ilość.</div>',
			placeholder: 'Wpisz swoją odpowiedź',
			options:[
				{ id: '1', label: 'Nie zgadzam się', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '1'},
				{ id: '2', label: 'Trochę się nie zgadzam', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '2'},
				{ id: '3', label: 'Trochę się zgadzam', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '3'},
				{ id: '4', label: 'Zgadzam się ', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '4'},
				{ id: '5', label: 'Nie wiem', meaning: SURVEY_TOGGLE_MEANINGS.NEUTRAL, standAlone: true },
			]
		}}
	   argTypes={{
		   explanation: { control: { type: 'text' } },
		   selected: { control: false },
		   options: { control: { type: 'object' } },
		   state: {control: { type: 'select', options: Object.values(SURVEY_QUESTION_STATES) }, defaultValue: SURVEY_QUESTION_STATES.DEFAULT },
	   }}>
	{(args) => {
		return {
			components: { SurveyQuestionScale },
			props: Object.keys(args),
			data() {
				return { selected: null, elaborationData: this.elaboration }
			},
			watch: {
				elaboration() {
					// elaboration is a prop here, Vue don't like modifying props, so we wrap it into valueData
					this.elaborationData = this.elaboration;
				}
			},
			template: '<survey-question-scale :title="title" :options="options" :elaboration="elaborationData" :elaborationLabel="elaborationLabel" :placeholder="placeholder" :selected="selected" :state="state" @select-change="selected = $event" @elaboration-change="elaborationData = $event">' +
				'<div v-if="explanation" slot="explanation" v-html="explanation" />' +
				'</survey-question-scale>',
		};
	}}
</Story>


<Story name='examples/7options'>
	{(args) => {
		return {
			components: { SurveyQuestionScale },
			props: Object.keys(args),
			data() {
				return { selected: '', elaboration: '' }
			},
			created() {
				this.options = [
					{ id: '1', label: 'Nie zgadzam się', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '1'},
					{ id: '2', label: '', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '2'},
					{ id: '3', label: '', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '3'},
					{ id: '4', label: 'Trochę', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '4'},
					{ id: '5', label: '', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '5' },
					{ id: '6', label: '', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '6' },
					{ id: '7', label: 'Zgadzam się', meaning: SURVEY_TOGGLE_MEANINGS.PRIMARY, content: '7' },
				];
			},
			template: '<survey-question-scale title="title" :options="options" elaborationLabel="elaborationLabel" :elaboration="elaboration" :selected="selected" @selectChange="selected = $event"  @select-change="selected = $event" />',
		};
	}}
</Story>

## Props

<Props of={SurveyQuestionScale} />