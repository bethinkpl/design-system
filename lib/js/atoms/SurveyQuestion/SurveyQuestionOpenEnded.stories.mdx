import { Meta, Story, Props } from '@storybook/addon-docs';
import SurveyQuestionOpenEnded from './SurveyQuestionOpenEnded';
import { SURVEY_QUESTION_STATES } from './SurveyQuestion.consts';

<Meta title='atoms/SurveyQuestionOpenEnded' component={SurveyQuestionOpenEnded} />

# SurveyQuestionOpenEnded

<Story name='interactive'
	   args={{
		   title: 'Main question write here if it\'s long it will collapse.',
		   value: 'value',
		   explanation: '<h3 class="-headlineL -textRegular" style="text-align: center; margin-bottom: 16px;">Jak ocenić, czy slajdy i diagramy były zrozumiałe?</h3><div>Wyczerpujące materiały dają poczucie pełnego zrozumieina, przy jednoczesnym usystematyzowaniu informacji. Wpływa na to nie tylko ich jakość, ale też ilość.</div>',
		   placeholder: 'Wpisz swoją odpowiedź',
		   state: SURVEY_QUESTION_STATES.DEFAULT,
	   }}
	   argTypes={{
		   explanation: { control: { type: 'text' } },
		   state: {control: { type: 'select', options: Object.values(SURVEY_QUESTION_STATES) } },
	   }}>
	{(args) => {
		return {
			components: { SurveyQuestionOpenEnded },
			props: Object.keys(args),
			data() {
				return { valueData: this.value };
			},
			watch: {
				value() {
					// value is a prop here, Vue don't like modifying props, so we wrap it into valueData
					this.valueData = this.value;
				}
			},
			template: '<survey-question-open-ended  :title="title" v-model="valueData" :state="state" :placeholder="placeholder">' +
				'<div v-if="explanation" slot="explanation" v-html="explanation" />' +
				'</survey-question-open-ended>',
		};
	}}
</Story>

## Props

<Props of={SurveyQuestionOpenEnded} />